/* function zerop(){
    document.body.childNodes[3].childNodes[1].innerHTML =
    '<fieldset id="field1"> 1. Comment qualifieriez-vous la charge de travail demandée par le cours ?<br><br>   <div class="left">  <input type="radio" name = "Q1" value="r1">Beaucoup trop importante<br> <input type="radio" name = "Q1" value="r2">Trop importante<br>  </div>  <div class="mid">   <input type="radio" name = "Q1" value="r3">Un peu trop importante<br>   <input type="radio" name = "Q1" value="r4">Ni trop importante ni trop insuffisante<br>  <input type="radio" name = "Q1" value="r5">Un peu trop insuffisante<br> </div>  <div class="right"> <input type="radio" name = "Q1" value="r6">Trop importante<br>  <input type="radio" name = "Q1" value="r7">Beaucoup trop insuffisante<br>   </div>  </fieldset><br> <fieldset id = "field2">    2. Le cours a t-il répondu à vos attentes ?<br><br> <div class="left">  <input type="radio" name = "Q2" value="r1">Extrêmement bien répondu<br> <input type="radio" name = "Q2" value="r2">Très bien répondu<br>    </div>  <div class="mid">   <input type="radio" name = "Q2" value="r3">Assez bien répondu<br>   </div>  <div class="right"> <input type="radio" name = "Q2" value="r4">Peu répondu<br>  <input type="radio" name = "Q2" value="r5">Pas du tout répondu<br>  </div>  </fieldset><br> <fieldset id="field4">  3. Le cours a t-il contribué à votre connaissance en la matière ?<br><br>   <div class="left">  <input type="radio" name = "Q3" value="r1">Énormément contribué<br> <input type="radio" name = "Q3" value="r2">Beaucoup contribué<br>   </div>  <div class="mid">   <input type="radio" name = "Q3" value="r3">Plutôt contribué<br> </div>  <div class="right"> <input type="radio" name = "Q3" value="r4">Peu contribué<br>    <input type="radio" name = "Q3" value="r5">Pas du tout contribué<br>    </div>  </fieldset><br> <fieldset id="field4">  4. Comment qualifieriez-vous le cours ?<br><br> <div class="left">  <input type="radio" name = "Q4" value="r1">Extrêmement facile<br>   <input type="radio" name = "Q4" value="r2">Très facile<br>  </div>  <div class="mid">   <input type="radio" name = "Q4" value="r3">Assez facile<br> <input type="radio" name = "Q4" value="r4">Ni trop facile ni trop difficile<br> <input type="radio" name = "Q4" value="r5">Assez difficile<br>  </div>  <div class="right"> <input type="radio" name = "Q4" value="r6">Très difficile<br>   <input type="radio" name = "Q4" value="r7">Extrêmement difficile<br>    </div>  </fieldset><br>';
}

function firstp(){
    document.body.childNodes[3].childNodes[1].innerHTML = 
    '<fieldset> 5. Que pensez-vous du rythme du cours ?<br><br> <div class="left">  <input type="radio" name = "Q5" value="r1">Beaucoup trop rapide<br> <input type="radio" name = "Q5" value="r2">Trop rapide<br>  </div>  <div class="mid">   <input type="radio" name = "Q5" value="r3">Un peu trop rapide<br>   <input type="radio" name = "Q5" value="r4">Ni trop rapide ni trop lent<br>  <input type="radio" name = "Q5" value="r5">Un peu trop lent<br> </div>  <div class="right"> <input type="radio" name = "Q5" value="r6">Trop lent<br>    <input type="radio" name = "Q5" value="r7">Beaucoup trop lent<br>   </div>	</fieldset><br>    <fieldset>  6. Pensez-vous que les supports utilisés (support papier, présentation) durant le cours ont été utiles ?<br><br>    <div class="left">  <input type="radio" name = "Q6" value="r1">Extrêmement utiles<br>   <input type="radio" name = "Q6" value="r2">Très utiles<br>  </div>  <div class="mid">   <input type="radio" name = "Q6" value="r3">Assez utiles<br> </div>  <div class="right"> <input type="radio" name = "Q6" value="r4">Peu utiles<br>   <input type="radio" name = "Q6" value="r5">Pas du tout utiles<br>   </div>  </fieldset><br>    <fieldset>  7. Quelle est la probabilité que vous recommandiez le cours à d\'autres étudiants ?<br><br> <div class="left">	<input type="radio" name = "Q7" value="r1">Extrêmement probable<br>	<input type="radio" name = "Q7" value="r2">Fortement probable<br>	</div>	<div class="mid">	<input type="radio" name = "Q7" value="r3">Modérément probable<br>	</div>	<div class="right">	<input type="radio" name = "Q7" value="r4">Peu probable<br>	<input type="radio" name = "Q7" value="r5">Pas du tout probable<br>	</div>	</fieldset><br>	<fieldset>	8. Dans l\'ensemble, êtes-vous satisfait(e) du contenu du cours ?<br><br>	<div class="left">	<input type="radio" name = "Q8" value="r1">Extrêmement satisfait(e)<br>	<input type="radio" name = "Q8" value="r2">Très satisfait(e)<br>	</div>	<div class="mid">	<input type="radio" name = "Q8" value="r3">Assez satisfait(e)<br>	<input type="radio" name = "Q8" value="r4">Ni satisfait(e) ni insatisfait(e)<br>	<input type="radio" name = "Q8" value="r5">Assez insatisfait(e)<br>	</div>	<div class="right">	<input type="radio" name = "Q8" value="r6">Très insatisfait(e)<br>	<input type="radio" name = "Q8" value="r7">Extrêmement insatisfait(e)<br>	</div>	</fieldset><br>';
}

function secondp(){
    document.body.childNodes[3].childNodes[1].innerHTML = 
    '<fieldset>	9. Dans l\'ensemble, quel est votre degré de satisfaction concernant le cours ?<br><br>	<div class="left">	<input type="radio" name = "Q9" value="r1">Extrêmement satisfait(e)<br>	<input type="radio" name = "Q9" value="r2">Très satisfait(e)<br>	</div>	<div class="mid">	<input type="radio" name = "Q9" value="r3">Assez satisfait(e)<br>	<input type="radio" name = "Q9" value="r4">Ni satisfait(e) ni insatisfait(e)<br>	<input type="radio" name = "Q9" value="r5">Assez insatisfait(e)<br>	</div>	<div class="right">	<input type="radio" name = "Q9" value="r6">Très insatisfait(e)<br>	<input type="radio" name = "Q9" value="r7">Extrêmement insatisfait(e)<br>	</div>	</fieldset><br>	<fieldset>	10. Quel était le niveau de qualité global de l’instructeur pour ce cours ?<br><br>	<div class="left">	<input type="radio" name = "Q10" value="r1">Excellent<br>	<input type="radio" name = "Q10" value="r2">Très bon<br>	</div>	<div class="mid">	<input type="radio" name = "Q10" value="r3">Bon<br>	</div>	<div class="right">	<input type="radio" name = "Q10" value="r4">Assez bon<br>	<input type="radio" name = "Q10" value="r5">Faible<br></div>	</fieldset><br>	<fieldset>	11. Le cours était-il bien organisé ?<br><br>	<div class="left">	<input type="radio" name = "Q11" value="r1">Extrêmement bien organisé<br>	<input type="radio" name = "Q11" value="r2">Très bien organisé<br>	</div>	<div class="mid">	<input type="radio" name = "Q11" value="r3">Assez bien organisé<br>	</div>	<div class="right">	<input type="radio" name = "Q11" value="r4">Pas très bien organisé<br>	<input type="radio" name = "Q11" value="r5">Pas du tout organisé<br>	</div>	</fieldset><br>	<fieldset>	12. Quel était le niveau de connaissances du sujet de cours de l’instructeur ?<br><br>	<div class="left">	<input type="radio" name = "Q12" value="r1">Excellent niveau de connaissance<br>	<input type="radio" name = "Q12" value="r2">Très bon niveau de connaissance<br>	</div>	<div class="mid">	<input type="radio" name = "Q12" value="r3">Assez bon niveau de connaissance<br>	</div>	<div class="right">	<input type="radio" name = "Q12" value="r4">Niveau de connaissance médiocre<br>	<input type="radio" name = "Q12" value="r5">Aucune connaissance<br>	</div>	</fieldset><br>';
}

function thirdp(){
    document.body.childNodes[3].childNodes[1].innerHTML = 
    '<fieldset>13. Les explications de l’instructeur étaient-elles claires ?<br><br>	<div class="left">	<input type="radio" name = "Q13" value="r1">Extrêmement claires<br>	<input type="radio" name = "Q13" value="r2">Très claires<br>	</div>	<div class="mid">	<input type="radio" name = "Q13" value="r3">Assez claires<br>	</div>	<div class="right">	<input type="radio" name = "Q13" value="r4">Peu claires<br>	<input type="radio" name = "Q13" value="r5">Pas claires du tout<br>	</div>	</fieldset><br>	<fieldset>14. De quelle manière l’instructeur était-il concerné par l’apprentissage des élèves dans ce cours ?<br><br>	<div class="left">	<input type="radio" name = "Q14" value="r1">Extrêmement concerné<br>	<input type="radio" name = "Q14" value="r2">Très concerné<br>	</div>	<div class="mid">	<input type="radio" name = "Q14" value="r3">Assez concerné<br>	</div>	<div class="right">	<input type="radio" name = "Q14" value="r4">Peu concerné<br>	<input type="radio" name = "Q14" value="r5">Pas du tout concerné<br>	</div>	</fieldset><br>	<fieldset>15. L’instructeur avait-il une attitude encourageante envers les élèves ?<br><br>	<div class="left">	<input type="radio" name = "Q15" value="r1">Extrêmement encourageante<br>	<input type="radio" name = "Q15" value="r2">Très encourageante<br>	</div>	<div class="mid">	<input type="radio" name = "Q15" value="r3">Assez encourageante<br>	</div>	<div class="right">	<input type="radio" name = "Q15" value="r4">Peu encourageante<br>	<input type="radio" name = "Q15" value="r5">Pas du tout encourageante<br>	</div>	</fieldset><br>	<fieldset>16. L’instructeur était-il disponible en dehors du cours ?<br><br>	<div class="left"><input type="radio" name = "Q16" value="r1">Extrêmement disponible<br>	<input type="radio" name = "Q16" value="r2">Très disponible<br>	</div>	<div class="mid"><input type="radio" name = "Q16" value="r3">Assez disponible<br>	</div>	<div class="right">	<input type="radio" name = "Q16" value="r4">Pas très disponible<br>	<input type="radio" name = "Q16" value="r5">Pas du tout disponible<br>	</div>	</fieldset><br>';
}

function lastp(){
    document.body.childNodes[3].childNodes[1].innerHTML = 
    '<fieldset>17. Dans quelle mesure les critères d’évaluation du cours étaient-ils clairs ?<br><br>	<div class="left">	<input type="radio" name = "Q17" value="r1">Extrêmement clairs<br>	<input type="radio" name = "Q17" value="r2">Très clairs<br>	</div>	<div class="mid">	<input type="radio" name = "Q17" value="r3">Assez clairs<br>	</div>	<div class="right">	<input type="radio" name = "Q17" value="r4">Peu clairs<br>	<input type="radio" name = "Q17" value="r5">Pas clairs du tout<br>	</div>	</fieldset><br>	<fieldset>18. Si vous avez d\'autres suggestions ou commentaires concernant le cours, merci de nous en faire part.	<textarea name="Q18">...</textarea>	</fieldset><br>';
} */

var theme = document.getElementById('themeChanger');
var nextButton = document.getElementById('nb');
var questions = document.getElementsByTagName('fieldset');

var page = 0,
    hiddenPoints = 0,
    compteur = 0,
    possiblitiesCount = 0;

var responses = new Array(17);
for (var i = 0; i < responses.length; i++)
    responses[i] = "";

var prevButton = document.createElement('input');
prevButton.type = 'button';
prevButton.value = 'précédent';
prevButton.id = 'pb';

var hidden = document.createElement('input');
hidden.type = 'hidden';

var finishButton = document.createElement('input');
finishButton.type = 'submit';
finishButton.value = 'terminer';
finishButton.id = 'fb';

document.querySelector('form').method = "post";
document.querySelector('form').action = "insert.php";

zerop();

theme.onclick = changing;
nextButton.onclick = next;

var checked = new Array(questions.length);

//for (var i = 0; i < questions.length; i++) {
var input = document.getElementsByTagName('input');
possiblities = 0;

for (var j = 0; j < input.length; j++)
    if (input[j].value == 'r1' || input[j].value == 'r2' || input[j].value == 'r3' || input[j].value == 'r4' || input[j].value == 'r5' || input[j].value == 'r6' || input[j].value == 'r7')
        possiblitiesCount++;

var possiblities = new Array(possiblitiesCount),
    k = 0;
for (var j = 0; j < input.length; j++) {
    if (input[j].value == 'r1' || input[j].value == 'r2' || input[j].value == 'r3' || input[j].value == 'r4' || input[j].value == 'r5' || input[j].value == 'r6' || input[j].value == 'r7') {
        possiblities[k] = input[j];
        k++;
    }
}

for (var j = 0; j < possiblitiesCount; j++) {
    for (var l = 0; l < responses.length; l++) {
        if (responses[l] != "" && possiblities[j].checked == true) {
            responses[l] = possiblities[j];
            break;
        }
    }
}
//}

function changing() {
    if (document.body.style.backgroundImage == 'url("bg6.jpg")')
        document.body.style.backgroundImage = 'url("c_bg1.png")';
    else
        document.body.style.backgroundImage = 'url("bg6.jpg")';
}

function next() {
    switch (page) {
        case 0:
            alert(typeof(possiblities[0].value));
            document.body.childNodes[5].childNodes[3].removeChild(nextButton);
            document.body.childNodes[5].childNodes[3].appendChild(prevButton);
            document.body.childNodes[5].childNodes[3].appendChild(nextButton);
            firstp();
            break;

        case 1:
            secondp();
            break;

        case 2:
            thirdp();
            break;

        case 3:
            lastp();
            document.body.childNodes[5].childNodes[3].removeChild(nextButton);
            document.body.childNodes[5].childNodes[1].appendChild(finishButton);
            break;
    }

    page++;
}

prevButton.onclick = preview;

function preview() {
    switch (page) {
        case 1:
            zerop();
            document.body.childNodes[5].childNodes[3].removeChild(prevButton);
            break;

        case 2:
            firstp();
            break;

        case 3:
            secondp();
            break;

        case 4:
            thirdp();
            document.body.childNodes[5].childNodes[3].appendChild(nextButton);
            break;
    }
    page--;
}